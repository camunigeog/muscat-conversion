# These tests are ran against the generated MARC output

# Format is:
#  
# Number (manually-assigned, so that they can be referenced elsewhere in code)
# Description
# Record number
# MARC field
# Pattern (either simple string or regexp starting with slash delimeter)

# Coverage level:
# createMarcExport: 100%
# generate008: 100%
# generate245: 100%
# generateAuthors: 100%
# marcConversion (controller section): 100%
# marcConversion (macros section): 50%
# muscatConversion: 0%


1
Basic test of record number generation
1000
001
/^SPRI-[0-9]{4}$/

2
Ensure that the data has been fully-loaded - this specifies a record very near the end
215073
001
SPRI-215073

3
Ensure *lpt parsing
8690
245
ch = Register

4
FIXME: 500 should not have :,
5472
500
1882-83 : die

5
Use of " as a pseudo- word boundary character, so that "<em>...</em>" gets protected rather than result in e-dot; see: /reports/transliterateem/
8690
245
parokhoda "Andrey Pervozvannyy" v

6
FIXME: Roman numerals followed by hyphen should not be transliterated
206607
880
XVII-

7
FIXME: Roman numerals followed by hyphen should not be transliterated
143341
880
XXI-

8
Unescape Muscat escaped asterisks @*
19682
520
(*495)

9
008 position 06-14 continuing serials e.g. 1990-
1036
008
u1964uuuu

10
008 position 06-14 "Undated-"
177897
008
uuuuuuuuu

11
008 position 06-14 "1997/98-"
145353
008
/^.{2}1997uuuu/

12
008 position 06-14 "1977?-"
57312
008
u1977uuuu

13
008 position 06-14 "1945-73, 1989-"
19832
008
u1945uuuu

14
008 position 06-14 normalise YYYY-YY "1960-61"
1034
008
d19601961

15
008 position 06-14 *ser normalise YYYY "1991"
1052
008
d19911991

16
008 position 06-14 handle absent date "[n.d.]"
1102
008
nuuuuuuuu

17
008 position 06-14 Probable date "[1994]"
1306
008
s1994####

18
008 position 06-14 *art simple date "1915"
11150
008
s1915####

19
008 position 06-14 "1923 (1931 printing)"
12522
008
r19311923

20
008 position 15-17: Place of publication
169741
008
enk

21
008 position 18-20 form=CD-ROM gets ###
2023
008
tma###

22
008 position 18-20 form=Sound cassette gets |||
102409
008
fr#|||

23
008 position 18-20 form=Poster gets nnn
95733
008
xx#nnn

24
008 position 18-20 Videorecording 60 min gets 060
1968
008
060

25
008 position 18-20 Videorecording [? mins] gets |||
78699
008
nz#|||

26
008 position 18-20 diags gets a##
1115
008
a##

27
008 position 18-20 diags and map gets a and b
1144
008
ab#

28
008 position 18-20 Journal *freq=irregular gets # then x (then #)
1027
008
#x#

29
008 position 21 form=Map gets |
101161
008
xx#||||

30
008 position 22 form=Microfiche *doc gets |
1186
008
xx#####|

31
008 position 22 form=Microfiche *art/*j gets b
11291
008
xx##u#|b

32
008 position 23 form=PDF gets s
201908
008
ar#|ss

33
008 positions 24-27 form=Map gets #|##
101161
008
#|##

34
008 positions 24-27 *ser Bibliographies gets |b
1005
008
|b##

35
008 positions 24-27 *local=Offprint gets 2
198459
008
2###

36
008 position 28 *kw example gets o
15998
008
#o0

37
008 position 29 *ks=061.3 gets d
4263
008
d|

38
008 positions 30-31 *doc *form=CD gets ##
167945
008
###|

39
008 positions 30-31 *art/*in *t contains Festschrift gets 1|
13607
008
1|

40
008 position 33 *doc *k=82-1 gets p
1319
008
p#

41
008 position 33 *ser *lang=French gets b
1031
008
#b|

42
008 position 34 *ks=92(08) gets d
2505
008
deng

43
008 position 34 *t starts autobiography gets a
6046
008
aeng

44
008 positions 35-36 *lang; test uses Esperanto (=epo)
29970
008
epo

45
1-y becomes 1-й in Cyrillic
29343
880
Выпуск 1-й.

46
Prevent multiple italic sections being swallowed in transliterated protected string handling
17256
245
Belukha ili beluga

47
In transliteration, ensure mid-word italics get properly tokenised (rather than remaining as <em> and thus e-dot)
91018
245
fazovoĭ p-T-diagrammy

48
Ditto, mid-word
79687
245
tetra-n-butilammon

49
Cyrillic should not contain a ligature in *ag/*n.. (e.g. from transliterating "Int͡skirveli")
29550
880
Инцкирвели

50
Cyrillic should not contain a ligature in *e/*n/*n.. (e.g. from transliterating "Zherebt͡sov")
1844
880
Compiled by И.Л. Жеребцов

51
Cyrillic should not contain a ligature in 880-700 (e.g. from transliterating "Zherebt͡sov")
1844
880
700-03 ‡aЖеребцов, И. Л.,‡ecompiler

52
Ensure 'Anon.' is treated as a transliterated protected string
6451
880
Anon.

53
English-name author should not result in an 880 transliteration (implementation pending)
151048
!880
Доwдесwелл, J. А.

54
English-name author should not be transliterated (880-245)
151048
880
J.A. Dowdeswell,

55
Dot-e transliteration failure should not occur in 245
151048
245
Michael

56
Relator terms should be in English in records in scope of transliteration
1844
880
editor.

57
880 490 ‡v for Russian records having *ts with a *vno should not be transliterated (pending further discussion)
136356
880
/490-03 .+‡vChast 2/

58
880 260 for Russian records now has ‡b transliteration enabled
6996
880
‡bПросвящение

59
The first *art/*ag/*a field should map to the 1XX field
7195
100
Lecointe, Georges

60
Any further *art/*ag/*a fields should map to 7XX fields
8249
700
Maslov, A. L.

61
Any *art/*ag/*al fields should map to 7XX fields
1963
700
Davies, 'Taff' Gwion

62
Any *art/*e/*n fields should map to 7XX fields
5126
700
Wild, J. J.

63
Note handling
9189
876
the bird

64
Any *art/*in/*ag/*a fields should NOT map to a 1XX or 7XX field
1902
!1**
Filip

65
Any *art/*in/*ag/*al fields should NOT map to a 7XX field
3427
!7**
Karol Edmond

66
Record has multiple languages
1220
041
‡anor‡aeng‡ager

67
No 100 generated for *ser
1062
!100
*

68
1xx generated for *doc/*ag/*a
1392
110
International Arctic Science Committee

69
1xx generated for *art/*ag/*a (see also next test)
4179
100
Campsterianus

70
1xx not generated for *art/*in/*ag/*a (see also previous test)
4179
!100
Jones

71
1xx generated for *art/*ag/*a in a record having *art/*j
1109
100
Ward

72
Ensure the 100 line ends with punctuation; this example is bracket
1218
100
/\)$/

73
Ensure the 100 line ends with punctuation; this example is dot
1221
700
/\.$/

74
Second author appears as 700, not 100 (see also next test)
7457
!100
Andersson

75
Second author appears as 700, not 100 (see also previous test)
7457
700
Andersson

76
Author in analytic child is pulled into parent (here parent record 7463 and child 9375 which has author Heurck)
7463
700
Heurck

77
Title in analytic child is pulled into parent (here parent record 7463 and child 9375)
7463
700
‡aHeurck, H. van.‡tBotanique: diatomées.

78
Analytic has second indicator set to 2 for 700
7463
i700
12

79
Author in analytic child is pulled into parent (here parent record 7463 and child 7569 which has corporate author)
7463
710
Expédition Antarctique Belge

80
Corporate author
7569
110
Expédition Antarctique Belge

81
Ensure the 7xx line ends with punctuation; this example is bracket (similar to test #72)
7463
700
/et conclusions.$/

82
Ensure the 7xx line ends with punctuation; this example is dot (similar to test #73)
7463
700
/Gamasidae\)$/

83
700: Subfield g must be preceded by a full stop, question mark or exclamation mark
2787
700
.‡g(alternative name)

84
If the author is also a *e illustrator (for example), do not create a second entry (700) as well as the 100
147053
!700
Debenham, Frank

85
Each *e/*n, *role, with Relator Term lookup substitution, results in 700
47079
700
Michael, Henry N.,‡eeditor.

86
An *n1 with value 'others' does not result in a 700
8988
!700
others

87
*ke value in parent record is just a GUI indicator, not resulting in MARC data
1221
!700
ME1221

88
Analytic children only have their first author pulled in (e.g. second author of record 7501 ignored)
7463
!700
Stephani

89
700: Subfield ‡t must be preceded by a question mark, full stop, hyphen or closing parenthesis; here testing dot
9843
700
.‡t

90
Authors: subfield ‡u, if present, goes before subfield ‡e
127378
700
, ‡uHUN-FOMI-RSC,‡eeditor.

91
Space out initials for authors (see also next test)
1296
100
J. J.

92
245 does not space out initials for authors (see also previous test)
1296
245
J.J.

93
110 separates *a/*n1 portions before and after dot into ‡a and ‡b (see also next test)
127474
110
‡aCanada.‡b Royal Commission

94
110 does not separate *a/*n1 portions on exceptions list (see also previous test)
124936
110
‡aFrederick A. Cook Society.

95
Spacing out initials should be tolerant of Cyrillic transliteration
175507
700
M. Kh.

96
Spacing out initials should be tolerant of non-ASCII initials
201319
100
Č. M.

97
Spacing out initials should be tolerant of non-ASCII initials, copied into parent 700
44492
700
Č. M.

98
In *nd classification, strip italic tags
45578
100
‡cSir.

99
In *nd classification, handle special-cases which generate a ‡b
165177
100
‡b I,‡cPrince of Monaco.

100
In *ad classification, date appears as ‡d
6575
100
,‡d 1863-1945.

101
In *ad classification, avoid space after comma before ‡d to avoid Bibcheck error "100: Subfield d must be preceded by a comma"
6575
100
,‡d

102
Basic *ad classification check
1165
100
‡etranslator

103
Basic *aff classification check
121449
100
‡uGBR-UMa-SG

104
1xx: If first *ag is actually an editor, mutate to 7xx (see also test #162)
31105
710
‡aJapan Antarctic Survey,‡eeditor.

105
In author handling, allow exact relator terms match (e.g. 'editor')
113955
700
‡eeditor

106
In author handling, support substring match (e.g. 'Translated from the Icelandic by')
1639
700
‡etranslator

107
100 ‡a transliteration results in 880
6653
880
100-01 ‡aБогданович, К. И.

108
700 ‡a transliteration in Russian record results in 880
23186
880
‡aСементовский, В. Н.

109
Ensure correct multiline handling of 880 in authors module
23186
880
‡aНовосильский, П. М.

110
In generate other entities phase of authors, ensure second author in a *ser does not appear
107192
!700
*

111
Ensure field code does not appear twice in generate other entities phase of authors
1127
!700
 700

112
In generate other entities phase of authors, ensure first author does not reappear in a 700 but is in 100 (see also next test)
1127
!700
‡aEvers, Dietrich

113
In generate other entities phase of authors, ensure first author does not reappear in a 700 but is in 100 (see also previous test)
1127
100
‡aEvers, Dietrich

114
In generate other entities phase of authors, ensure second author appears in 700
1127
700
‡aStölting, Siegfried

115
In generate other entities phase of authors, ensure third author appears in 700
1333
700
‡aTyaptirgyanov, M.

116
In generate other entities phase of authors, ensure first *al in *ag appears
1565
700
‡aFaleev, V. I.

117
In generate other entities phase of authors, ensure second *al in *ag appears
29234
700
‡aJaster, Jan

118
Check ‡g(alternative name) appears for such authors
29234
700
‡aChudzikowska, Jadwiga.‡g(alternative name)

119
Check *e (first) becomes 700
1247
700
‡aChilderhose, R. J.

120
Check second *e becomes a 700
2295
700
‡aSonnini, C. S.

121
Relator term ‡e does not have a space before
2295
700
‡aSonnini, C. S.,‡econtributor

122
Multiple relator term ‡e values do not have space between
2295
700
‡econtributor,‡eeditor.

123
Anon handling for 100
1394
100
‡aAnonymous.

124
Single name handling for 100
181460
100
‡aIgnatius.

125
Spacing-out handling in single name handling for 100
213499
100
‡aE. L. H.

126
Surname-only handling for 100
111558
100
‡adi Georgia.

127
Surname-only handling for 100 with entities
3904
100
‡aSöderbergh.

128
Conference handling for n1 in 1xx
50035
111
‡aConference on the Conservation of Antarctic Seals.

129
Conference handling for n1 in 1xx with entities
8728
111
‡aCongrès

130
Conference handling for Russian LoC transliterated values
32818
111
‡aNauchnai͡a konferent͡sii͡a

131
Conference handling for congress (not US Congress) (see also next test)
55763
111
‡aXXIII International Geographical Congress.

132
Conference handling for US Congress (see also previous test)
1912
110
‡aUnited States.‡b Congress.

133
111 ‡a: Simple conference name
173340
111
/‡aArctic Science Conference\.$/

134
111 ‡a: Conference and date
57564
111
‡aSymposium on Antarctic Resources ‡d(1978)

135
111 ‡a: Conference, date and location
32965
111
‡aConference on Antarctica ‡d(1959 :‡cWashington, D.C.)

136
111 ‡a: Conference, number, date and location
51434
111
‡aInternational Conference on Permafrost ‡n(2nd :‡d1973 :‡cYakutsk, Siberia, U.S.S.R)

137
111 ‡a: Conferences with commas not intended as delimeters
55264
111
‡aConference on Soil-Water Problems in Cold Regions ‡n(2nd :‡d1976 :‡cEdmonton, Alberta)

138
1xx *n2 basic handling
1296
100
‡aStansfield, J. J.

139
1xx *n2 fuller form of name
170179
700
‡aIrons, David B. ‡q(David Bruce)

140
1xx *n2 fuller form of name with entities
4366
100
‡aFaye, H. ‡q(Hervé)

141
Check for *a not containing a *nd (see also next test)
1105
100
/‡aOrvik, James M.$/

142
Check for *a containing a *nd (see also previous test)
1201
100
,‡cSir.

143
1xx *nd prefix with entities
53959
100
,‡cCapitán.

144
1xx *nd suffix
23362
100
,‡c2nd Baron Tweedsmuir.

145
1xx *nd between *n1 and *n2
3180
700
,‡cFreiherr von

146
Basic relator term handling
181142
710
,‡eeditor.

147
Basic relator term handling with entities
10004
700
,‡eeditor.

148
*nd misc list handling in 1xx; also: has space after ‡g
1218
100
‡g (Campsterianus)

149
*ad affiliation list handling in 1xx (partial string)
165077
100
‡uZoological Museum at Berlin

150
*ad affiliation list handling in 1xx (complete string match)
19171
100
, ‡uO.M.I.

151
*ad affiliation with ‡c and ‡u
18045
100
,‡cRev.,‡uO.M.I.

152
Relator term handling with //ONLY flag (exact match)
122529
700
,‡econtributor.

153
Relator term handling with //ONLY flag (partial match)
1253
700
,‡eillustrator.

154
Relator term handling with //NOT flag (positive match)
44786
700
,‡eeditor.

155
Relator term handling with //NOT flag (negative match)
24674
!700
‡eeditor

156
Relator term handling with //REQUIRES flag (positive match)
139689
700
‡enarrator

157
Relator term handling with //REQUIRES flag (negative match)
101462
!700
‡enarrator

158
7xx *e/*n relator terms support
147053
700
,‡eillustrator.

159
Test *e/*role handling when *n1 = 'the author'
147053
700
,‡eillustrator.

160
100 Ensure dot at end when not naturally present
46177
100
/\.$/

161
100 Ensure single dot at end when already naturally present
46175
100
/L\.$/

162
1xx: If first *ag is actually an compiler, mutate to 7xx (see also test #104)
4012
700
‡aTravis, George,‡ecompiler.

163
245 uses main title when *in exists
1104
245
‡aGlen Prosen and the memory of an Antarctic tragedy

164
245 "and 4 others" does not get transliterated in 880
210651
880
‡cА.М. Никанаров, and 4 others.

165
245 880 gets transliteration in Russian records
210651
880
‡aАнтропогенная нагрузка на устья рек Российской Арктики

166
245 first indicator set to 1 when 100 present
210651
i245
/^1./

167
245 first indicator set to 1 when other 1xx present
1102
i245
/^1./

168
245 first indicator set to 1 when 100 not present
1134
i245
/^0./

169
245 second indicator set to 4 with leading article 'the'
1110
i245
/^.4/

170
245 second indicator set to 0 with no leading article
1134
i245
/^.0/

171
245 second indicator set to 3 leading article 'Ei' in Norwegian record
103693
i245
/^.3/

172
245 *t colon handling splits to ‡a: ‡b
1119
245
‡aThe issue is survival :‡ba summary

173
245 *t with colon and record having *form results in ‡h; "it follows the title proper" "and precedes the remainder of the title"
12359
245
North‡h[videorecording] :‡ba story

174
245 *t without colon results in ‡a
1000
245
‡aAdmiralty List of Lights.

175
245 *t without colon but having *form results in ‡h after ‡a
1186
245
microorganisms‡h[Microfiche]

176
245 ‡h appears in 880 for Russian records
9543
880
Известия‡h[Microfiche].

177
245 *ser with *t already having dot ends with single dot
137684
245
/Review\.$/

178
245 *ser with *t ending with ) gets additional . at end
1058
245
/\)\.$/

179
*ser gets Statement of Responsibility in 245
1028
245
‡cAmerican Geophysical Union

180
Basic Statement of Responsibility existence test
1159
245
 /‡cJoëlle Robert-Lamblin.

181
245 *doc Statement of Responsibility starts with first *doc/*ag/*a
1121
245
‡cNunam Kitlutsisti

182
245 *doc Statement of Responsibility continues with second *doc/*ag/*a
1121
245
‡cNunam Kitlutsisti, Mary Lenz

183
245 *art Statement of Responsibility starts with first *art/*ag/*a
1135
245
‡cR.R. Makarov

184
245 *art Statement of Responsibility continues with second *art/*ag/*a
1135
245
‡cR.R. Makarov, C.J. Denys

185
245 *art Statement of Responsibility continues with as many authors as present
181939
245
‡cP.J. Barrett, L. Carter, D. Damiani, G.B. Dunbar, E. Dunker, G. Giorgetti, M.A. Harper, R.M. McKay, F. Niessen, U. Nixdorf, A.R. Pyne, C. Riesselmann, N. Robinson, C. Hollis, P. Strong.

186
245 *art Statement of Responsibility multiple authors separated by comma-space
1135
245
Makarov, C.J.

187
245 *art Statement of Responsibility multiple author groups separated by space-semicolon-space
134805
245
H. Maitre ; F.

188
245 *art Statement of Responsibility multiple author groups with second author in second group
133876
245
‡cJ. Walden ; J.P. Smith, R.V. Dackombe ; J. Rose.

189
245 *art Statement of Responsibility does not show *aff value
133876
!245
GBR-UO-SG

190
245 *art Statement of Responsibility punctuation when 'and 5 others'
131672
245
Cortijo ; and 5 others.

191
245 Statement of Responsibility handling of *ad
149106
245
‡cA.R. Artemʹev, ed.

192
245 Statement of Responsibility handling of multiple *ad in an *ag
162152
245
‡cV.A. Aleksandrov, and 11 others, eds.

193
245 If *ag/*a group is '-' (e.g. due to *n1 = '-' only), skip entry in Statement of Responsibility
178946
!245
‡c

194
245 If *ag/*a group is '-' (e.g. due to *n1 = '-' only), skip entry in Statement of Responsibility (with *ad also present)
115773
!245
‡c

195
245 Add each *e role and siblings
2930
245
‡cÉlie Le Guillou ; Edited by J. Arago.

196
245 No semicolon separator if *e without *ag
145630
245
‡cTranslated by Henry Myers.

197
245 Role and siblings construction
1844
245
Compiled by I.L. Zherebt͡sov.

198
245 Role and siblings construction (multiple *e groups)
2295
245
; Additional work by Leclerc de Buffon ; revised order, notes and additions by C.S. Sonnini.

199
245 Role and siblings construction (two *n groups in *e)
1639
245
; Translated from the Icelandic by Eiríkr Magnússon and William Morris.

200
245 Role and siblings construction (three *n groups in *e, triggering comma-and)
3876
245
drawings by A. Faguet, Mesnel, Emile Bayard and J. Stewart

201
245 Extraction of *n1, *n2, *nd
1201
245
‡cSir Richard Collinson.

202
245 Initials are not spaced out
1135
245
‡cR.R.

203
245 Initials spacing handling
1410
245
S. le R.

204
245 Clear italics from *nd
118086
245
‡cSr Alice Romanchuk (SGM).

205
245 *nd special cases
172094
245
Lord Terry Lewin.

206
245 with *n2
1134
245
‡cInigo Everson

207
245 without *n2
1113
245
‡cPacific Circle Consortium.

208
880 245 unexpand initials to remove spaces works after transliteration
194996
880
Е.В. Напрасникова.

209
245 unexpand initials correct for initial plus name
1139
245
‡cC. Huntly Gordon.

210
245 Classify single value *nd field prefixes list items handling with *nd *n2 *n1
184117
245
‡cAdmiral of the Fleet, Sir Henry Leach.

211
245 Classify single value *nd field prefixes list items handling with *nd *n1
4252
245
‡cAmiral Pâris.

212
245 Classify single value *nd field prefixes list items with entities
19668
245
‡cKommandørkaptajn F.C.S. Bangsbøll.

213
245 Classify single value *nd field between *n1 and *n2 list
3180
245
‡cSigismund, Freiherr von Herberstein,

214
245 Classify single value *nd field *n2 *n1 *nd suffix
1983
245
Harris B. Stewart, Jr.

215
245 Classify single value *nd field *n1 *nd
4019
245
‡cH.L.L., pseud.

216
Place code xxu (USA) with no further detail is valid as SPRI has no further data, but triggers Bibcheck warning to check
1199
008
xxu

217
Date range 196u in 008 is valid, but wrongly triggers Bibcheck error now whitelisted
1150
008
196u####

218
Dollar in 245 is not an indicator, but wrongly triggers Bibcheck error now whitelisted
203691
245
Trust $100 club

219
300 $a map is valid, but wrongly triggers Bibcheck error now whitelisted
54670
300
‡aMap folio

220
300 should not split word 'bibliography' with ‡b
54670
300
bibliography

221
300 should not end up with ‡a with value colon
151371
!300
‡a:‡bmap

222
Dollar in 300 is not an indicator, but wrongly triggers Bibcheck error now whitelisted
38727
300
, $4.95

223
Dollar in 520 is not an indicator, but wrongly triggers Bibcheck error now whitelisted
140044
520
index (θ .\$t/h²\$).

224
Dollar in 541 is not an indicator, but wrongly triggers Bibcheck error now whitelisted
145475
541
‡h34.95 AUS$ ‡5

225
Money value string $5 in 541 is not an indicator, but wrongly triggers Bibcheck error about repeatable field now whitelisted
9220
541
‡h$50.00 ‡5UkCU-P

226
541 has $5 set, but triggers Bibcheck warning to check
9220
541
‡5UkCU-P

227
008 position 33 is correctly set to a, despite wrongly triggering Bibcheck error now whitelisted
1061
008
#a|

228
Record ID in 001 contains prefix 'SPRI-', which createMarcExport relies on
1061
001
SPRI-1061

229
Leader byte count
1003
LDR
00984

230
880 link reciprocality (see also next test)
1062
245
‡6 880-01

231
880 link reciprocality (see also previous test)
1062
880
‡6 245-01

232
Merging with a field not present in either
1033
!916
*

233
Merging: 'M' strategy, with M present
1033
866
‡a1979-2004

234
Merging: 'M' strategy, with M and V both present
1033
001
SPRI-1033

235
Merging: 'V' strategy, with V present (and M)
10506
245
‡aZapiski po gidrografii.

236
Merging: 'V else M' strategy, with V present
1033
260
‡aWashington, D.C.

237
Merging: 'V else M' strategy, with M present but no V
1033
856
‡uhttp:

238
Merging: 'V and M' strategy, with both present (see also next test)
50968
651
‡2udc‡a(*41) -- Canada.

239
Merging: 'V and M' strategy, with both present (see also previous test)
50968
651
‡aCanada, Northern‡vPeriodicals.

240
Merging: 'V and M' strategy, with V only present
12775
710
‡aRossiĭskiĭ Gidrologicheskiĭ Institut.

241
Merging: 'V and M' strategy, with M only present
12775
651
‡2udc‡a(*50) -- Soviet Union.

242
Leader does not have indicators
29550
iLDR
''

243
00x fields do not have indicators
29550
i008
''

244
MARC parser note lines do not appear in the final record
1000
!***
Notes:

245
String 'macro' from MARC parser does not appear in final record
1000
!***
macro

246
Spaces present between blocks in MARC parser are retained in final record
1049
876
Record ‡zSPRI holds

247
MARC parser block check
1049
001
SPRI-1049

248
MARC parser indicators check
1049
i300
##

249
MARC parser optional block indicator (e.g. ‡?u) check
2176
856
‡uurn

250
MARC parser dynamic indicator block check
1108
i242
14

251
MARC parser XPath check
1003
866
‡x1st ed.

252
MARC parser horizontal repeatability check
1010
876
‡zAvailable online‡zLibrary holds

253
MARC parser vertical repeatability check
1599
650
‡2local‡aZ

254
MARC parser fixed string check
3056
541
‡5UkCU-P

255
MARC parser check of passing in XPath /
3056
100
‡aBarrow, John,‡cSir.

256
Multiple *con in 563
3056
!563
foxingGeneral comments:

257
MARC parser check of 'A' (all) control character: value present (see also next test)
3056
541
‡aMather, J.H. (bequest) ‡5UkCU-P

258
MARC parser check of 'A' (all) control character: not value present (see also previous test)
3057
!541
*

259
MARC parser check of 'E' (any [either]) control character
1049
876
Record ‡zSPRI holds

260
MARC parser check that if optional block is skipped because of no value then following block will not have a space before
1049
876
/^‡xFormerly exchanged/

261
MARC parser check that trailing space is trimmed
1054
876
/Polar Record$/

262
MARC parser check of records with insertion of reciprocal 880 marker at start of source lines: multiline reassembly
1697
700
/^‡6 880-0[1-9] ‡aUrsov/

263
MARC parser check of records with insertion of reciprocal 880 marker at start of source line: standard line
2800
260
/^‡6 880-0[1-9] ‡aParis/

264
Italic stripping in final MARC record
1131
245
body length of Euphausia superba Dana /‡cJ.

265
Superscript tag stripping in final MARC record
2800
245
1er Partie

266
Subscript tag stripping in final MARC record
61528
520
to σθ and

267
MARC parser macro chaining
2800
650
/\.$/

268
MARC parser parameter parsing
2176
856
urn:doi:

269
916 multiple *ref spacing (pending decision on correct formatting)
56613
!916
(v.1)63025 (v.2)

270
Macro validisbn validates correct ISBN
1182
020
‡a096861387X

271
Macro validisbn gives valid result for EANs
211150
020
‡a5391519681503

272
Macro validisbn invalidates incorrect ISBN
49940
020
‡z0871446801

273
Macro prepend: value present
49940
546
‡aIn Danish.

274
Macro prepend: value not present
49941
!546
*

275
Macro ifValue: value present
1058
242
‡yeng

276
Macro ucfirst
1054
310
‡aIrregular

277
Macro ifElse: value present
1010
i856
/^4/

278
Macro ifElse: value not present
2176
i856
/^#/

279
Macro colonSplit: colon present
3765
246
‡aThulia : ‡b a tale

280
Macro colonSplit: colon not present
1019
246
‡aCanada. Mines Branch. Monographs

281
Macro dotEnd, without extended character list: dot present
1102
520
/Melville Island\.$/

282
Macro dotEnd, without extended character list: dot not present
1109
520
/Vatnajökull area\.$/

283
Macro dotEnd, with extended character list: ] present
1105
260
/‡c\[n.d.\]$/

284
Macro dotEnd, with extended character list: ] not present
1063
260
/Research Establishment\.$/

285
Macro excludeNoneValue: string with value '-'
138387
!520
*

286
Macro excludeNoneValue: normal string
1102
520
‡aShips on route

287
Macro multipleValues: value(s)
205727
546
‡aIn English and Inuktitut.

288
Macro multipleValues: no value
1102
!546
*

289
Macro multipleValues: uniqueing
1337
948
/‡bIW$/

290
Macro implode: multiple values
132384
948
‡bOM, WM

291
Macro implode: single value
1104
948
/‡bHS$/

292
Macro implode: no values
1007
!948
‡b

293
Macro commaAnd: >2 values
160854
546
‡aIn Danish, English, Greenlandic and German.

294
Macro commaAnd: 2 values
1144
546
‡aIn German and French.

295
Macro commaAnd: 1 value
1007
546
‡aIn English.

296
Macro commaAnd: no values
1102
!546
*

297
Macro generate260: multiple *pg
76743
260
‡aBoulder, CO :‡bUniversity of Colorado, Cooperative Institute for Research in Environmental Studies ;‡aParkville, Victoria :‡bUniversity of Melbourne, Meteorology Department,‡c

298
Macro generate260: single *pg
1786
260
‡aParis :‡bTerres australes et antarctiques françaises,‡c

299
Macro generate260: multiple *pl within a *pg
1639
260
‡aLondon ;‡aFelling-on-Tyne :‡b

300
Macro generate260: sine loco (i.e. *pg without *pl)
1484
260
‡a[S.l.] :‡b

301
Macro generate260: multiple *pu within a *pg
1223
260
‡a[Cambridge] :‡bNatural Environment Research Council :‡bBritish Antarctic Survey,‡c

302
Macro generate260: sine nomine (i.e. *pg without *pu)
1730
260
:‡b[s.n.],‡c

303
Macro generate260: multiple *pg has semicolon between
76743
260
Studies ;‡a

304
Macro generate260: multiple ‡b has colon between
1223
260
‡bNatural Environment Research Council :‡bBritish 

305
Macro generate260: check against incorrect 880 (implementation pending)
1054
!880
/‡a\[S.l.\] :‡b\.$/

306
Macro generate260: 880 [S.l.] and [s.n.] not transliterated
76740
880
‡a[S.l.] :‡b[s.n.],‡c1985.

307
Macro generate260: date
76740
260
,‡c1985.

308
Macro generate260: *pl conversion of Muscat '[n.p.]' or '-' to MARC [S.l.]
1102
260
‡a[S.l.] :

309
Macro generate260: *pl remove round brackets
5942
260
‡aNew York and Philadelphia :

310
Macro generate260: *pl preserve square brackets
5943
260
‡a[Philadelphia, PA] :

311
Macro generate260: *d added unmodified
1787
260
‡c-.

312
Macro generate260: *d added unmodified (another example)
1102
260
‡c[n.d.]

313
Macro generate260: *pu conversion of Muscat '[n.pub.]' or '-' to MARC [s.n.]
1105
260
:‡b[s.n.],‡

314
Macro generate260: *pu ‡b standard case
1117
260
‡bCurriculum Development Centre,

315
Macro generate260: *pl ‡a standard case
1117
260
‡aCanberra :

316
No 260 880 generated if record is not Russian (implementation pending)
1014
!880
260-

317
260 second indicator: if *loc starts with 'Theses' second indicator should be '0' (implementation pending)
3152
i260
/0$/

318
260 second indicator: normal case
1117
i260
/#$/

319
Macro generate300 multiple *p
6002
300
‡a2 vols. Vol. 1 (14), 409 p.; Vol. 2 (7), 393 p. :‡b

320
Macro generate300 single *p
1175
300
/‡a12 p\.$/

321
Macro generate300 no *p
1104
300
‡a:[1-4] :‡bill.

322
Macro generate300 multiple *pt
25179
300
‡a42(12) :681-685; 43(1) :12-15;

323
Macro generate300 single *pt
1129
300
/‡a2\.$/

324
Macro generate300 no *pt
1106
300
‡a9 p., plates. ;‡

325
Macro generate300 *p rather than *pt
15711
300
‡a67-108; 133-137 :

326
Macro generate300 *pt rather than *p
25179
300
‡a42(12) :681-685; 43(1) :12-15;

327
Macro generate300 split off +
67235
300
‡c30 cm. +‡esupplement.

328
Macro generate300 colon before ill. etc. (see also test #220)
51787
300
‡avariously paged :‡bill. ;

329
Macro generate300 adds dot after abbreviated term ill if not present
1584
300
‡bill. ;

330
Macro generate300 adds dot after abbreviated term illus if not present
1163
300
‡billus.

331
Macro generate300 *v present in *doc having ‡b
20704
300
‡a2 vols :‡b

332
Macro generate300 *v present in *art with a multimedia-type *form
203063
300
‡aWinter.

333
Macro generate300 ‡e accompanying material
152326
300
‡c33.5 cm. +‡e1 CD-ROM.

334
Macro generate300 ends with dot or closing bracket (dot case)
67235
300
/‡esupplement\.$/

335
Macro generate300 $c with single *size
1103
300
;‡c28 cm.

336
Macro generate300 $c with multiple *size
9681
300
;‡cVols 1-17 34.5 cm. ;‡cVol. 18 25 cm.

337
Macro generate300 $c with space before cm requiring normalisation
54851
300
‡c20.5 x 20.5 cm.

338
Macro generate300 $c with space before cm not requiring normalisation
1102
300
‡c28 cm.

339
Macro generate300 $c with dot after cm requiring normalisation
1407
300
‡c22 cm.

340
Macro generate300 $c with dot after cm not requiring normalisation
1102
300
‡c28 cm.

341
Macro generate300 unpaged for *ser with empty result
1019
300
/‡av\.$/

342
Macro generate300 unpaged for non- *ser
1248
300
/^‡a1 volume \(unpaged\)$/

343
Macro generate300 Unpaged capitalised
174009
300
‡a1 volume (unpaged)

344
Macro generate300 unpaged does contain $c
174009
300
‡a1 volume (unpaged) ;‡c33 cm.

345
Macro generate300 unpaged for *doc with empty result
1332
300
/^‡a1 volume \(unpaged\)$/

346
Macro generate300 normalise dot after p (see also next test)
1654
300
‡a20 p. ;

347
Macro generate300 normalise dot after p (multiple in single string) (see also previous test)
2031
300
‡a362 p., 56 p., 100 p. :

348
Macro generate300 does not add dot after v in vols
20704
300
‡a2 vols

349
Macro generate300 normalises space between p and . requiring normalisation
49133
300
62 p.

350
Macro generate300 normalises space between p and . not requiring normalisation
13745
300
112 p.

351
300 $a should not contain *vno (see also test #352)
5174
300
‡a1-96, tables :‡b

352
773 ‡g should contain *vno (see also test #351 and #518)
5174
773
‡g6(15) ‡w

353
Macro generate300 *vno with *ts existing does not generate 300
1896
!300
Pt. 1

354
Macro generate300 *vno with *ts existing generates 490
1896
490
Pt. 1

355
Macro nfcount: 245 2nd indicator (based on *t) should have 4 for English *t 'The '
1116
i245
/4$/

356
Macro nfcount: 245 2nd indicator (based on *t) should have 3 for Spanish 'El '
19042
i245
/3$/

357
Macro nfcount: 242 2nd indicator (based on *tt) should have 4 for English *tt 'The '
1204
i242
/4$/

358
Macro nfcount: 240 2nd indicator (based on *to) should have 4 for French record starting 'Les ' (pending implementation)
1572
i240
/4$/

359
Macro nfcount: Special characters with initial article are counted as nonfiling characters (with: "[La ")
9196
i245
/4$/

360
Macro nfcount: Special characters with initial article are counted as nonfiling characters (with: "'The D-2"...)
56786
i245
/5$/

361
Macro nfcount: Special characters at start of title without initial article are not counted as nonfiling characters (without: "'Penguin'")
4993
i245
/0$/

362
Macro nfcount: Special characters with initial article are counted as nonfiling characters (with: '"The home'...)
11329
i245
/5$/

363
Macro nfcount: Special characters with initial article are counted as nonfiling characters (with: "The 'Esk'")
1325
i245
/5$/

364
Macro nfcount: Quote mark but no leading article should be 0: "'Unmixing'"
56593
i245
/0$/

365
Macro nfcount: Standard case with no leading article: "Report of"
1125
i245
/0$/

366
Macro indicator1xxPresent: positive case
1257
i245
/^1/

367
Macro indicator1xxPresent: negative case
1844
i245
/^0/

368
Macro languages041 languages are uniqued
2071
041
/‡afre$/

369
Macro languages041 multiple different languages
168933
041
‡adan‡aeng‡afre

370
Macro languages041 no languages means no 041 generated
4355
!041
*

371
Macro languages041 presence of note regarding translation gives eng
23776
041
‡aeng‡

372
Macro languages041 "translation from" results in ‡h
4353
041
‡hdan

373
Macro languages041 "translated from" results in ‡h
2040
041
‡hspa

374
Macro languages041 basic lookup
2040
041
‡afre

375
Macro languages041 "Translated from article" is not a note in scope of matching
32279
!041
*

376
Macro languages041 Russian record also with "Translated from Norwegian by" ignores this non-matching note but shows Russian
175067
041
/^‡arus$/

377
Macro languages041 match is non- start-anchored so "English translation from Russian" produces match
190904
041
‡aeng‡hrus

378
Macro languages041 "Translation from <em><name></em>" with publication name in non-English record does not produce additional language match
8814
!041
‡h

379
Macro languages041 in indicator mode: positive case, i.e. includes a translation (i.e. has ‡h) (see also next test)
23776
i041
/^1/

380
Macro languages041 in indicator mode: negative case, i.e. does not include a translation (i.e. does not have ‡h) (see also previous test)
10009
i041
/^0/

381
Macro transliterateSubfields basic functionality sees subfield transliterated
35733
880
‡6 490-04 ‡aЖизнь замечательных людей ;‡vVypusk 19

382
Macro transliterateSubfields single subfield only present and in scope
1406
880
/‡6 490-04 ‡aШкольная Библиотека$/

383
Macro transliterateSubfields ends without result if language not supported
162154
!880
490-

384
Test of tokeniseToSubfields subroutine
35733
880
‡6 490-04 ‡aЖизнь замечательных людей ;‡vVypusk 19

385
Leader position 06: with *form (Videorecording)
9992
LDR
ng

386
Leader position 06: no *form
1187
LDR
na

387
Leader position 07: *doc
1187
LDR
m#

388
Leader positions 08-23
1188
LDR
/#a2200000#a#4500$/

389
Test of recordType subroutine
1104
LDR
a#

390
Test of migration datetime; migration is in 2017 :)
1000
005
/^2017[0-9]{4}[0-9]{6}\.0$/

391
Test of migration date; migration is in 2017 :)
1000
948
/^‡a2017[0-9]{4}$/

392
Macro generate007: with *form (Videorecording)
9992
007
vf#|u||u|

393
Macro generate007: with *form (3.5 floppy disk)
179694
007
cj#|a|||||||||

394
Macro generate007: no *form
1187
007
/^ta$/

395
008: test of recordType subroutine (copy in 008)
1210
008
|eng

396
008: resultant value is exactly 40 characters long
1210
008
/^.{40}$/

397
008: positions 00-05; migration is in 2017 :)
1210
008
/^17[0-9]{4}[a-z]/

398
008: positions 06-14 *ser with unknown start and end dates
1072
008
uuuuuuuuu

399
008: positions 18-20: minutes
163911
008
/^.{18}\|\|\|/

400
008: positions 18-20: 2 hours
96479
008
/^.{18}120/

401
008: positions 24-27: *art/*j position 24 always |
1210
008
/^.{24}\|/

402
008: positions 24-27: *location = 'Theses' bounded start (at start of string)
3152
008
/^.{24}m/

403
008: positions 24-27: *location = 'Theses' bounded start (in middle of string, but at word boundary)
21127
008
/^.{24}m/

404
008: positions 24-27: pad out with #
21127
008
/^.{24}m###/

405
008: position 28: Sound cassette
102409
008
/^.{25}\|/

406
008: position 28: Default case
9999
008
/^.{28}\|/

407
008: position 29: Multimedia
182611
008
/^.{29}#/

407
008: position 29: Default case
9999
008
/^.{29}0/

408
008: test locationContains0613 subroutine
6201
008
/^.{29}d/

409
008: positions 30-31: Multimedia
182611
008
/^.{30}##/

410
008: positions 30-31: Sound, with *ks ^82-2 match
142030
008
/^.{30}bd/

411
008: positions 30-31: pad out with #
178689
008
/^.{30}b#/

412
008: positions 30-31: *ser without *form
1031
008
/^.{30}##/

413
008: positions 30-31: DVD
160682
008
/^.{30}##/

414
008: position 32: fixed value is #
1031
008
/^.{32}#/

415
008: position 33: Multimediaish *form
162291
008
/^.{33}v/

416
008: test of kFieldMatches subroutine in word boundary mode
21310
008
/^.{24}r/

417
008: position 34: Multimediaish *form
162291
008
/^.{34}\|/

418
008: position 34: 92[*
1854
008
/^.{34}b/

419
008: position 34: 92(08)
1858
008
/^.{34}c/

420
008: ends with fixed string #d
1000
008
/#d$/

421
546: Macro isTransliterated triggered for Russian language record
1526
546
BGN/PCGN 1947 romanization of Russian

422
546: Macro isTransliterated not triggered for non-Russian language record
1527
!546
*

423
Macro 880subfield6 ends if no value
151048
!880
110-0

424
Macro 880subfield6 incoming multiline results in multiple 880 entries
162152
880
‡6 700-07 ‡aВтюрин, Борис.‡t

425
Macro 880subfield6 mutated 71x amongst other 7xx remains in order: 710 field (see also next test)
68500
880
‡6 710-06 ‡aАыталын.

426
Macro 880subfield6 mutated 71x amongst other 7xx remains in order: field following 710 (see also previous test)
68500
880
‡6 700-07 ‡a

427
Macro 880subfield6 multiline can go into double-digits: target (see also next test)
150141
880
‡6 710-11 ‡a

428
Macro 880subfield6 multiline can go into double-digits: source (see also previous test)
150141
710
‡6 880-11 ‡a

429
Macro 880subfield6 multiline retains correct indicators in middle (here testing 710-11, though not a very robust test)
150141
i880
2#

430
Macro 880subfield6 single line
150141
880
‡6 490-03 ‡

431
Macro 880subfield6 has zero padding when single digit
150141
880
‡6 700-04 ‡

432
Macro 880subfield6 adds space for clarity after ‡6
150141
880
‡6 700-04

433
Macro generate250 ‡a
1405
250
‡a10th ed.

434
Macro generate250 ‡b
3887
250
‡bsuperintended by Rev. Robert Main.

435
Macro generate250 ‡b multiple sections separated by semicolon using roleAndSiblings routine
7017
250
‡boriginal drawings by Chr. Krohg, Otto Sinding and E. Werenskiold; photographs taken in Greenland by Erich Dagobert von Drygalski.

436
Macro generate250 no output if no subfields
1031
!250
*

437
Macro generate250 compile with space between subfields
45901
250
‡a2nd ed. ‡bcontaining

438
Macro generate250 dot end
2549
250
/‡aNew edition \(Fourth\).$/

439
245: If there is a / in the title explicitly, use that and discard all people groups
10503
245
/^‡aMuseum Bulletin \/‡c\[Victoria Memorial Museum\]\.$/

440
245: / title handling not triggered by </em>
1131
245
of Euphausia superba Dana /‡cJ. Mauchline.

441
880: parallel title part of *t should not be transliterated
65712
880
Migrations of birds of eastern Europe and northern Asia

442
Roman numerals range
79994
880
XVII-XIX

443
Macro generate250 ‡b no $b due to absence of *ee
1405
250
/‡a10th ed\.$/

444
Macro generate490 no *ts means no output
1253
!490
*

445
Macro generate490 with explicit semicolon divider
2296
490
Bilderbuchs ;‡vI-IV Heft

446
Macro generate490 with explicit semicolon divider
5517
490
Command Papers ;‡vC.6253, 6368

447
Macro generate490 with explicit semicolon divider space trimming
2296
490
Bilderbuchs ;‡vI-IV

448
Macro generate490 split using volume numbers regexp list (first in list)
38395
490
Project ;‡v261, Final Report

449
Macro generate490 longest first
6264
490
;‡vparts 1 and 2

450
Macro generate490 compare case-insensitively
170770
490
;‡vno. 355-5

451
Macro generate490 simple series title without volume number
1188
490
/^‡aT-516$/

452
Macro generate490 add *vno to existing $v
1896
490
‡vNo.95, Pt. 1

453
Macro generate490 $v from *vno
101358
490
‡vVol. 1

454
Macro generate490 $a with $v trailing dot
3748
490
Otdel ;‡vTom 1.

455
Macro generate490 $a normalise space before semicolon
31402
490
SSSR ;‡vTom 27

456
541 multiline
3959
541
/^‡aBreitfuss ‡5UkCU-P$/

457
541 single line
176629
541
‡ca2085809--BA Russia ‡a

458
541 ‡c *fund alone becomes ‡c
132544
541
‡cAO4J7D ‡a

459
541 ‡c *fund and *sref
176629
541
‡ca2085809--BA Russia ‡a

460
541 ‡c *fund and *kb but no *fund
195699
541
‡c60129--Exchange - PR and PGA ‡a

461
541 ‡c *kb
1010
541
‡cExchange - PR ‡a

462
451 ‡c *sref
168419
541
‡c329400 ‡a

463
451 ‡a
1050
541
‡aMinistry of Works and Division (gift) ‡

464
451 ‡d
3173
541
‡d2001/01/11 ‡

465
451 ‡h
3173
541
‡h85.00 UKP ‡

466
541 ‡5
3173
541
/ ‡5UkCU-P$/

467
No 541 created if no *acq and no *kb
3174
!541
*

468
541 multiline also gets correct indicator
3959
i541
/^0#$/

469
isNotRoundBracketed test (positive case)
1003
650
656.61.05

470
isNotRoundBracketed test (negative case)
1003
!650
(*7)

471
isRoundBracketed test (positive case)
1003
651
(*7)

472
isRoundBracketed test (negative case)
1003
!651
656.61.05

473
addLookedupKsValue *ks has additional description string
1008
650
: 1962- British Antarctic Survey.

474
addLookedupKsValue *ks status tokens match
166245
!650
PGA

475
addLookedupKsValue UDC lookup
166245
650
‡a82 -- Literature.

476
650 ends with dot
166245
650
/Komi: Komi\.$/

477
650 *rpl E1 fixed up to E2
16098
650
‡aE2

478
650 *rpl description lookup
16098
650
Glaciology: general.

479
650 *rpl assembly
1102
650
/^‡2local‡aL -- Communication and transportation\.$/

480
650 repeatability
1102
650
‡a656.61.052

481
651 repeatability
1102
651
‡a(*62) -- Canadian Arctic waters.

482
lookupTable round bracket stripping
2027
008
/^.{15}au#/

483
lookupTable case-insensitive comparison (input side) (see also #489)
52260
008
/^.{18}ar/

484
Basic lookupTable test
173681
008
/^.{18}ar/

485
Undo Muscat escaped asterisks @*
180287
008
/^.{15}ru#/

486
loadLookupTable needs definition of empty value fallback value
180290
008
/^.{18}#u/

487
loadLookupTable needs definition of false fallback value
180289
008
/^.{35}eng/

488
loadLookupTable does diacritic substitution
148511
008
/^.{18}qn/

489
loadLookupTable case-insensitive comparison (definition side) (see also #483)
52260
008
/^.{18}ar/

490
generate500 basic test
1109
500
‡aIn: British Schools Exploring Society. Report. 1978-79 :1-38, ill., maps (1 folding)

491
generate500 strips subfield indicators
1129
500
Biomass Handbook. 2

492
generate500 prefix for */art/
1222
500
‡aIn: Running the North

493
773 lookupHostRecord
1129
773
‡wSPRI-57536

494
773 *kg not present so no 773
2075
!773
*

495
773 ‡a: pull in 100 ‡a
2073
773
‡aAnonymous. ‡

496
773 ‡a: pull in 245 ‡c
1222
773
‡aRebecca Aird, ed. ‡

497
773 ‡a has dot after
67559
773
‡aJania, Jacek. ‡t

498
856 DOI appears as ‡uurn:doi:
8353
856
‡uurn:doi:10.1038/071221c0

499
856 DOI appears also as URL
2175
856
0023‡uhttp://dx.doi.org/10.1098

500
In roleAndSiblings, *role (e.g. 'Compiled by') is not subject to transliteration
1844
880
; Compiled by И.Л. Жеребцов.

501
{1|7}xx should be created but contents should not be transliterated when *nt = None present for author (implementation pending) (see also #502)
151048
700
Gorman, Michael R.

502
880-{1|7}xx not generated when *nt = None present for author (implementation pending), because the {1|7}xx is Latin characters (see also #501)
2650
!880
Беллингшаусен, Тhаддеус

503
880-245 in scope of transliteration retains Latin characters when *nt = None present for author; this is for non-upgraded records where explicit / + authors in Cyrillic has not been defined (implementation pending)
151048
880
‡cЮ.Я. Мачерет, А.Ф. Глазовский, J.A. Dowdeswell, Michael R. Gorman

504
245 in scope of transliteration, with explicit / , Russian names end up transliterated as LoC
6449
245
‡clekt͡sii: Barona F. Vrangeli͡a i Vit͡se-Admirala S.O. Makarova.

505
880-245 in scope of transliteration, with explicit / , Russian names end up as Cyrillic
6449
880
‡cлекции: Барона F. Врангеля и Вице-Адмирала С.О. Макарова.

506
In 245, space-semicolon-space indicates split point for ‡b (if not already split because of : or / )
139981
245
‡aAdventure at the top of the world ;‡b Adventure at the bottom of the world /‡c

507
In 245, semicolon (without surrounding spaces) does not create ‡b split point
1154
245
‡aAntarctica; a guide

508
In 245, when both colon and space-semicolon-space both present, choose the first as the delimiter
135894
245
contaminants :‡breport on Akativut ; Ilusivut

509
*note goes in 500
1019
500
‡aTitle varies: "Canada.

510
Multiple *note in 500
1019
500
‡aPublisher varies as govt. dept. changes

511
*local goes in 876
1019
876
‡zSPRI catalogue has entries for

512
*pt with plural keyword (e.g. 'maps') creates ‡b split point
1684
300
1-23 :‡bmaps, tables.

513
Macro generate300 *v present in *doc having ‡a creates space
8988
300
300 ## ‡a12 vols. Variously paged.

514
773 in *art with analytic volume designation present appears as ‡g
1668
773
‡g7(3) ‡

515
773 in *art/*in without analytic volume designation should have no ‡g
54886
773
‡d 880-02 : Novosibirsk: Nauka, 1976. ‡wSPRI-55908

516
300 ‡a should not contain volume designator (case where *pt has space-colon)
1668
300
‡ap. 233-266 :‡b

517
300 ‡a should not contain volume designator (case where *pt does not have space-colon)
54886
300
‡ap. 191-197.

518
773 ‡g contents of *vno should appear at the start, with a dot before other material (see also test #352)
7865
773
‡gTome 2. Physique terrestre. Météorologie. Histoire naturelle. Sect. 7.

519
773 ‡g for *art/*j without an analytic volume designation should include date (*art/*j/*d)
4844
773
‡g(1882) ‡

520
773 ‡g with *d = '[n.d.]' should not have date string appearing
1166
773
‡gVol. 18 ‡

521
773 ‡g analytic volume designation should be prefixed with "Vol. " if numeric (positive match)
1668
773
‡gVol. 7(3)

522
773 ‡g analytic volume designation should be prefixed with "Vol. " if numeric (negative match)
1300
773
‡gSer. 3

523
300 ‡a should not start with a colon
1107
300
‡ap. 341-343.

524
300 ‡a should have "p. " when not already present (positive match)
1107
300
‡ap. 341-343.

525
300 ‡a should have "p. " when not already present (negative match)
1654
300
‡a20 p. 

526
300 ‡a where *p (i.e. not *pt) has a colon should not create an analytic volume designation
189056
300
‡a1 disc :‡bill

527
Pseudo-analytics should get a 500
1126
500
‡aOffprint: International Review of Applied Psychology

528
300 ‡b should have trailing punctuation removed (except dot)
9529
300
‡bill. ;‡c

529
773 ‡t should use only space as splitter
67559
773
‡tField investigations performed during the glaciological Spitsbergen expedition in 1983 : interim report. ‡d

530
773 ‡t without host 245 ‡b gets no extra characters
59148
773
‡tGeologii͡a i tektonika rudonosnykh regionov I͡akutii (sbornik). ‡d

531
773 ‡t ends with dot
59148
773
‡tGeologii͡a i tektonika rudonosnykh regionov I͡akutii (sbornik). ‡d

532
773 $d uses space-colon-space between host 260 $a and $b
67559
773
‡dKatowice : Uniwersytet Ślaski, 1983. ‡w

533
300 *pt with multiple abbreviations has each receiving dot
147891
300
ill., diags.,

534
300 *pt addition of dot to abbreviation supports plural 's'
34364
300
ills.,

535
300 *pt split happens on first keyword
12780
300
1-28 :‡bill., diags., tables, maps.

